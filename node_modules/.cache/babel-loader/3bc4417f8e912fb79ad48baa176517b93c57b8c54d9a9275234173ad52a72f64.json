{"ast":null,"code":"var _jsxFileName = \"/home/carolina/guia_telefnueva/src/App.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nimport Persons from './components/Persons';\nimport PersonForm from './components/PersonForm';\nimport Filter from './components/Filter';\nimport Notification from './components/Notification';\nimport services from './services/persons';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst App = () => {\n  _s();\n  const [persons, setPersons] = useState([]);\n  const [newPerson, setNewPerson] = useState({\n    name: '',\n    number: ''\n  });\n  const [filter, setfilter] = useState('');\n  const [message, setMessage] = useState({\n    body: '',\n    type: ''\n  });\n  const isNewName = persons.find(person => person.name.toLocaleLowerCase() === newPerson.name.toLocaleLowerCase());\n  const serchPersonDelect = persons.filter(person => person.name.toLocaleLowerCase() === newPerson.name.toLocaleLowerCase());\n\n  //Función de persona nueva\n  const addNewName = event => {\n    event.preventDefault();\n    const personObject = {\n      name: newPerson.name,\n      number: newPerson.number\n    };\n    if (!isNewName) {\n      services.createPerson(personObject).then(() => {\n        setPersons(persons.concat(personObject));\n        setNewPerson({\n          name: '',\n          number: ''\n        });\n        getPersons();\n        const mesageObject = {\n          body: `Added ${personObject.name}`,\n          type: 'success'\n        };\n        setMessage(mesageObject);\n      });\n    } else {\n      const confirm = window.confirm(`${newPerson.name} is already added to phonebook, replace the old number whit a new one?`);\n      const id = serchPersonDelect[0].id;\n      confirm && services.updateNumber(id, personObject).then(response => {\n        setPersons(persons.map(person => person.id !== id ? person : response));\n        setNewPerson({\n          name: '',\n          number: ''\n        });\n        getPersons();\n      }).catch(error => {\n        console.error(`Update number failed: ${error}`);\n        const mesageObject = {\n          body: `information of ${personObject.name} has already been removed from server`,\n          type: 'error'\n        };\n        setMessage(mesageObject);\n      });\n    }\n  };\n\n  ///Control para agregar nueva persona\n  const handleNewName = event => setNewPerson({\n    ...newPerson,\n    name: event.target.value\n  });\n\n  //Control para agregar nuevo numero de otra persona\n  const handleNewPhone = event => setNewPerson({\n    ...newPerson,\n    number: event.target.value\n  });\n\n  //Filtro de control\n  const handleFilter = event => setfilter(event.target.value);\n\n  //Control para eliminar\n  const deletedPerson = (name, id) => {\n    const confirmDeleted = window.confirm(`Detele ${name} ?`);\n    confirmDeleted && services.deletePerson(id).then(() => {\n      setPersons(persons.filter(person => person.id !== id));\n    });\n  };\n  const personToShow = filter === '' ? persons : persons.filter(person => person.name.toLocaleLowerCase().indexOf(filter.toLocaleLowerCase()) > -1);\n\n  // Get persons\n  const getPersons = () => {\n    services.getPersons().then(response => {\n      return setPersons(response);\n    });\n  };\n\n  // UseEffect\n  useEffect(() => {\n    getPersons();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Phonebook\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 7\n    }, this), message.body !== '' && /*#__PURE__*/_jsxDEV(Notification, {\n      message: message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 31\n    }, this), /*#__PURE__*/_jsxDEV(Filter, {\n      handleFilter: handleFilter\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"add a new\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(PersonForm, {\n      addNewName: addNewName,\n      handleNewName: handleNewName,\n      handleNewPhone: handleNewPhone,\n      newPerson: newPerson\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Numbers\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Persons, {\n      personToShow: personToShow,\n      handleButton: deletedPerson\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 126,\n    columnNumber: 5\n  }, this);\n};\n_s(App, \"ZvvB9cdATAbh0yfNJVtil4iBNjA=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["useState","useEffect","Persons","PersonForm","Filter","Notification","services","jsxDEV","_jsxDEV","App","_s","persons","setPersons","newPerson","setNewPerson","name","number","filter","setfilter","message","setMessage","body","type","isNewName","find","person","toLocaleLowerCase","serchPersonDelect","addNewName","event","preventDefault","personObject","createPerson","then","concat","getPersons","mesageObject","confirm","window","id","updateNumber","response","map","catch","error","console","handleNewName","target","value","handleNewPhone","handleFilter","deletedPerson","confirmDeleted","deletePerson","personToShow","indexOf","children","fileName","_jsxFileName","lineNumber","columnNumber","handleButton","_c","$RefreshReg$"],"sources":["/home/carolina/guia_telefnueva/src/App.js"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport Persons from './components/Persons';\nimport PersonForm from './components/PersonForm';\nimport Filter from './components/Filter';\nimport Notification from './components/Notification';\nimport services from './services/persons';\n\nconst App = () => {\n \n  const [persons, setPersons] = useState([]);\n  const [newPerson, setNewPerson] = useState({ name: '', number: '' });\n  const [filter, setfilter] = useState('');\n  const [message, setMessage] = useState({\n    body: '',\n    type: '',\n  });\n\n  const isNewName = persons.find(\n    (person) =>\n      person.name.toLocaleLowerCase() === newPerson.name.toLocaleLowerCase()\n  );\n\n  const serchPersonDelect = persons.filter(\n    (person) =>\n      person.name.toLocaleLowerCase() === newPerson.name.toLocaleLowerCase()\n  );\n\n  //Función de persona nueva\n  const addNewName = (event) => {\n    event.preventDefault();\n\n    const personObject = {\n      name: newPerson.name,\n      number: newPerson.number,\n    };\n\n    if (!isNewName) {\n      services.createPerson(personObject).then(() => {\n        setPersons(persons.concat(personObject));\n        setNewPerson({ name: '', number: '' });\n        getPersons();\n\n        const mesageObject = {\n          body: `Added ${personObject.name}`,\n          type: 'success',\n        };\n\n        setMessage(mesageObject);\n\n        \n      });\n    } else {\n      const confirm = window.confirm(\n        `${newPerson.name} is already added to phonebook, replace the old number whit a new one?`\n      );\n\n      const id = serchPersonDelect[0].id;\n\n      confirm &&\n        services\n          .updateNumber(id, personObject)\n          .then((response) => {\n            setPersons(\n              persons.map((person) => (person.id !== id ? person : response))\n            );\n            setNewPerson({ name: '', number: '' });\n            getPersons();\n          })\n          .catch((error) => {\n            console.error(`Update number failed: ${error}`);\n\n            const mesageObject = {\n              body: `information of ${personObject.name} has already been removed from server`,\n              type: 'error',\n            };\n\n            setMessage(mesageObject);\n          });\n    }\n  };\n\n  ///Control para agregar nueva persona\n  const handleNewName = (event) =>\n    setNewPerson({ ...newPerson, name: event.target.value });\n\n  //Control para agregar nuevo numero de otra persona\n  const handleNewPhone = (event) =>\n    setNewPerson({ ...newPerson, number: event.target.value });\n\n  //Filtro de control\n  const handleFilter = (event) => setfilter(event.target.value);\n\n  //Control para eliminar\n  const deletedPerson = (name, id) => {\n    const confirmDeleted = window.confirm(`Detele ${name} ?`);\n    confirmDeleted &&\n      services.deletePerson(id).then(() => {\n        setPersons(persons.filter((person) => person.id !== id));\n      });\n  };\n\n  \n  const personToShow =\n    filter === ''\n      ? persons\n      : persons.filter(\n          (person) =>\n            person.name\n              .toLocaleLowerCase()\n              .indexOf(filter.toLocaleLowerCase()) > -1\n        );\n        \n  // Get persons\n  const getPersons = () => {\n    services.getPersons().then((response) => {\n      return setPersons(response);\n    });\n  };\n\n  // UseEffect\n  useEffect(() => {\n    getPersons();\n  }, []);\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      {message.body !== '' && <Notification message={message} />}\n      <Filter handleFilter={handleFilter} />\n      <div>\n        <h2>add a new</h2>\n      </div>\n      <PersonForm\n        addNewName={addNewName}\n        handleNewName={handleNewName}\n        handleNewPhone={handleNewPhone}\n        newPerson={newPerson}\n      />\n      <h2>Numbers</h2>\n      <Persons personToShow={personToShow} handleButton={deletedPerson} />\n    </div>\n  );\n};\n\nexport default App;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}